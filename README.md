# æ¡œè‰²æœåŠ¡åŠ©æ‰‹ ğŸŒ¸

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„Telegramæœºå™¨äººï¼Œä¸“ä¸ºæœåŠ¡ç®¡ç†å’Œç”¨æˆ·äº¤äº’è€Œè®¾è®¡ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **ä»£å‘æ¶ˆæ¯ç³»ç»Ÿ** - ç®¡ç†å‘˜å¯å‘æŒ‡å®šç”¨æˆ·å‘é€æ¶ˆæ¯
- **å›å¤è¿½è¸ª** - è‡ªåŠ¨ç›‘å¬ç”¨æˆ·å›å¤å¹¶é€šçŸ¥ç®¡ç†å‘˜
- **ç”¨æˆ·ç®¡ç†** - å®Œæ•´çš„ç”¨æˆ·è§’è‰²å’Œæƒé™ç³»ç»Ÿ
- **åé¦ˆç³»ç»Ÿ** - ç”¨æˆ·åé¦ˆæ”¶é›†å’Œå¤„ç†
- **å†…å®¹ç®¡ç†** - æ±‚ç‰‡ã€æŠ•ç¨¿ç­‰å†…å®¹ç®¡ç†åŠŸèƒ½

### ğŸ› ï¸ ç®¡ç†åŠŸèƒ½

- **å¤šçº§æƒé™** - è¶…ç®¡ã€ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ä¸‰çº§æƒé™
- **ç³»ç»Ÿè®¾ç½®** - çµæ´»çš„åŠŸèƒ½å¼€å…³å’Œé…ç½®ç®¡ç†
- **æ•°æ®ç»Ÿè®¡** - ç”¨æˆ·æ´»è·ƒåº¦å’Œç³»ç»Ÿä½¿ç”¨ç»Ÿè®¡
- **æ—¥å¿—è®°å½•** - å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œé”™è¯¯è¿½è¸ª

### ğŸ’¬ äº¤äº’åŠŸèƒ½

- **æ™ºèƒ½å›å¤** - æ”¯æŒHTMLæ ¼å¼çš„å¯Œæ–‡æœ¬æ¶ˆæ¯
- **æŒ‰é’®äº¤äº’** - ç›´è§‚çš„å†…è”é”®ç›˜æ“ä½œ
- **æ–‡ä»¶å¤„ç†** - æ”¯æŒå›¾ç‰‡ã€æ–‡æ¡£ç­‰å¤šåª’ä½“å†…å®¹
- **çŠ¶æ€ç®¡ç†** - æ™ºèƒ½çš„å¯¹è¯çŠ¶æ€è·Ÿè¸ª

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Telegram Bot Token
- SQLiteæ•°æ®åº“ï¼ˆé»˜è®¤ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd lustfulservicebot
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

3. **é…ç½®ç¯å¢ƒ**
   ```bash
   cp .env.example .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®
   ```

4. **å¯åŠ¨æœºå™¨äºº**
   ```bash
   python -m app.bot
   ```
   
   é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨å’Œåˆå§‹æ•°æ®ã€‚

## ğŸ“‹ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# Telegram Boté…ç½®
BOT_TOKEN=your_bot_token_here
SUPERADMIN_ID=your_telegram_user_id
ADMINS_ID=admin1_id,admin2_id

# æœºå™¨äººè®¾ç½®
BOT_NICKNAME=æ¡œè‰²æœåŠ¡åŠ©æ‰‹
GROUP=your_group_username  # å¯é€‰

# æ•°æ®åº“é…ç½®
DATABASE_URL=sqlite:///./db/bot.db
```

### è·å–Bot Token

1. åœ¨Telegramä¸­æ‰¾åˆ° [@BotFather](https://t.me/BotFather)
2. å‘é€ `/newbot` åˆ›å»ºæ–°æœºå™¨äºº
3. æŒ‰æç¤ºè®¾ç½®æœºå™¨äººåç§°å’Œç”¨æˆ·å
4. è·å–Bot Tokenå¹¶å¡«å…¥é…ç½®æ–‡ä»¶

### è·å–ç”¨æˆ·ID

1. åœ¨Telegramä¸­æ‰¾åˆ° [@userinfobot](https://t.me/userinfobot)
2. å‘é€ä»»æ„æ¶ˆæ¯è·å–ä½ çš„ç”¨æˆ·ID
3. å°†ç”¨æˆ·IDå¡«å…¥ `SUPERADMIN_ID`

## ğŸ® ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜å‘½ä»¤

#### ä»£å‘æ¶ˆæ¯
- `/su [ç”¨æˆ·ID] [æ¶ˆæ¯å†…å®¹]` - å‘é€æ¶ˆæ¯ç»™æŒ‡å®šç”¨æˆ·
- `/sc [é¢‘é“ID] [æ¶ˆæ¯å†…å®¹]` - å‘é€æ¶ˆæ¯åˆ°é¢‘é“
- `/sg [ç¾¤ç»„ID] [æ¶ˆæ¯å†…å®¹]` - å‘é€æ¶ˆæ¯åˆ°ç¾¤ç»„

#### å›å¤ç®¡ç†
- `/replies` æˆ– `/r` - æŸ¥çœ‹ç”¨æˆ·å›å¤
- `/history [ç”¨æˆ·ID]` æˆ– `/h [ç”¨æˆ·ID]` - æŸ¥çœ‹å¯¹è¯å†å²
- `/mark_read [è®°å½•ID]` æˆ– `/mr [è®°å½•ID]` - æ ‡è®°å›å¤ä¸ºå·²è¯»

#### ç³»ç»Ÿç®¡ç†
- `/add_admin [ç”¨æˆ·ID]` - æ·»åŠ ç®¡ç†å‘˜
- `/demote [ç”¨æˆ·ID]` - ç§»é™¤ç®¡ç†å‘˜æƒé™
- `/view_settings` - æŸ¥çœ‹ç³»ç»Ÿè®¾ç½®
- `/toggle_feature [åŠŸèƒ½å]` - åˆ‡æ¢åŠŸèƒ½å¼€å…³

### ç”¨æˆ·å‘½ä»¤

- `/start` - å¯åŠ¨æœºå™¨äºº
- `/help` - è·å–å¸®åŠ©ä¿¡æ¯
- ç›´æ¥å‘é€æ¶ˆæ¯è¿›è¡Œåé¦ˆ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
lustfulservicebot/
â”œâ”€â”€ app/                    # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ bot.py             # æœºå™¨äººå…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“æ¨¡å‹å’Œæ“ä½œ
â”‚   â”œâ”€â”€ handlers/          # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ admins/        # ç®¡ç†å‘˜åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ users/         # ç”¨æˆ·åŠŸèƒ½
â”‚   â”œâ”€â”€ middlewares/       # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ buttons/           # æŒ‰é’®å’Œé”®ç›˜
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ db/                    # æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ create_tables.py       # æ•°æ®åº“åˆå§‹åŒ–
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **åˆ›å»ºå¤„ç†å™¨**
   ```python
   # app/handlers/users/new_feature.py
   from aiogram import Router, types
   
   router = Router()
   
   @router.message()
   async def handle_new_feature(msg: types.Message):
       await msg.reply("æ–°åŠŸèƒ½å“åº”")
   ```

2. **æ³¨å†Œè·¯ç”±**
   ```python
   # app/handlers/users/__init__.py
   from .new_feature import router as new_feature_router
   
   users_routers = [
       # ... å…¶ä»–è·¯ç”±
       new_feature_router,
   ]
   ```

### æ•°æ®åº“æ“ä½œ

```python
# ä½¿ç”¨å¼‚æ­¥æ•°æ®åº“æ“ä½œ
from app.database.db import AsyncSessionLocal

async def example_db_operation():
    async with AsyncSessionLocal() as session:
        # æ•°æ®åº“æ“ä½œ
        await session.commit()
```

### æ—¥å¿—è®°å½•

```python
from loguru import logger

logger.info("ä¿¡æ¯æ—¥å¿—")
logger.warning("è­¦å‘Šæ—¥å¿—")
logger.error("é”™è¯¯æ—¥å¿—")
```

## ğŸ“Š åŠŸèƒ½æ¨¡å—

### ä»£å‘æ¶ˆæ¯ç³»ç»Ÿ
- âœ… å‘é€æ¶ˆæ¯ç»™ç”¨æˆ·/ç¾¤ç»„/é¢‘é“
- âœ… æ¶ˆæ¯è®°å½•å’Œè¿½è¸ª
- âœ… å›å¤è‡ªåŠ¨é€šçŸ¥
- âœ… å¯¹è¯å†å²ç®¡ç†
- âœ… å·²è¯»çŠ¶æ€ç®¡ç†

### ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- âœ… å¤šçº§æƒé™æ§åˆ¶
- âœ… ç”¨æˆ·ä¿¡æ¯æ”¶é›†
- âœ… æ´»è·ƒåº¦ç»Ÿè®¡
- âœ… æƒé™åŠ¨æ€åˆ†é…

### åé¦ˆç³»ç»Ÿ
- âœ… ç”¨æˆ·åé¦ˆæ”¶é›†
- âœ… ç®¡ç†å‘˜å›å¤
- âœ… åé¦ˆçŠ¶æ€è·Ÿè¸ª
- âœ… åˆ†ç±»ç®¡ç†

### å†…å®¹ç®¡ç†
- âœ… æ±‚ç‰‡åŠŸèƒ½
- âœ… å†…å®¹æŠ•ç¨¿
- âœ… å®¡æ ¸æµç¨‹
- âœ… åˆ†ç±»ç®¡ç†

## ğŸš€ éƒ¨ç½²

è¯¦ç»†çš„éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ [DEPLOYMENT.md](DEPLOYMENT.md)

### Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# æ„å»ºé•œåƒ
docker build -t lustfulservicebot .

# è¿è¡Œå®¹å™¨
docker run -d --name bot \
  -v $(pwd)/.env:/app/.env \
  -v $(pwd)/db:/app/db \
  -v $(pwd)/logs:/app/logs \
  lustfulservicebot
```

### ç³»ç»ŸæœåŠ¡éƒ¨ç½²

```bash
# åˆ›å»ºsystemdæœåŠ¡
sudo cp lustfulservicebot.service /etc/systemd/system/
sudo systemctl enable lustfulservicebot
sudo systemctl start lustfulservicebot
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-09-06)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ ä»£å‘æ¶ˆæ¯ç³»ç»Ÿ
- âœ¨ å›å¤è¿½è¸ªåŠŸèƒ½
- âœ¨ ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- âœ¨ åé¦ˆå¤„ç†åŠŸèƒ½
- âœ¨ ç³»ç»Ÿé…ç½®ç®¡ç†
- ğŸ› ä¿®å¤å¸¦å›¾ç‰‡æ¶ˆæ¯ç¼–è¾‘é”™è¯¯
- ğŸ› ä¿®å¤è·¯ç”±ä¼˜å…ˆçº§é—®é¢˜
- ğŸ› ä¿®å¤æ•°æ®åº“å¼‚æ­¥æ“ä½œ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [aiogram](https://github.com/aiogram/aiogram) - ä¼˜ç§€çš„Telegram Botæ¡†æ¶
- [SQLAlchemy](https://sqlalchemy.org/) - å¼ºå¤§çš„ORMæ¡†æ¶
- [loguru](https://github.com/Delgan/loguru) - ç®€æ´çš„æ—¥å¿—åº“

## ğŸ“ æ”¯æŒ

å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰ç”¨ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- åˆ›å»º [Issue](../../issues)
- å‘é€é‚®ä»¶åˆ°é¡¹ç›®ç»´æŠ¤è€…

---

**æ¡œè‰²æœåŠ¡åŠ©æ‰‹** - è®©Telegramæœºå™¨äººç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆ ğŸŒ¸
